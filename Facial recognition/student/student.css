/* ---------- Student Portal skin (overrides + extras) ---------- */
/* Fallback tokens in case base styles don't define them */
:root{
  --border: var(--border, #e5e7eb);
  --muted: var(--muted, #6b7280);
  --shadow-sm: var(--shadow-sm, 0 2px 10px rgba(0,0,0,.05));
}

/* Theme overrides scoped to student pages only */
.student-portal{
  /* Cooler palette for student UI */
  --brand: #6C8FF5;
  --brand-600: #597CE6;
  --brand-50: #EEF3FF;
  --sidebar: #F5F8FF;
  --active: #E4ECFF;
  --page: #EAF0FF;
}

/* Page background tweak */
body.student-portal{ background: var(--page); }

/* Sidebar polish for student */
.student-portal .sidebar{
  background: var(--sidebar);
}
.student-portal .sidebar h2{
  letter-spacing: .6px;
  font-weight: 700;
}

/* Ensure nav rows never shift */
.student-portal .sidebar nav{ display:block; }
.student-portal .sidebar nav a{
  display:block;
  height:48px; line-height:48px;   /* vertical centering */
  padding:0 16px;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  border-radius:14px; margin:0 0 12px 0;
}
.student-portal .sidebar nav a:hover,
.student-portal .sidebar nav a.active{
  background: var(--active);
  font-weight: 700;
}

/* Main card surface */
.student-portal .dashboard-content{
  border-radius: 18px;
  box-shadow: 0 8px 24px rgba(17,17,17,.06);
  background: #fff; /* ensures readable surface over page bg */
}

/* ---------- Student Dashboard: KPIs ---------- */
.student-portal .kpi-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(180px,1fr));
  gap:16px;
  margin:16px 0 24px;
}
.student-portal .kpi-card{
  background:#fff; border:1px solid var(--border);
  border-radius:14px; padding:14px;
  box-shadow: var(--shadow-sm);
}
.student-portal .kpi-card h4{ font-size:14px; color:#1f2937; margin:0 0 6px; }
.student-portal .kpi-value{ font-size:28px; font-weight:800; line-height:1.1; }

.student-portal .kpi-subtext{
  margin-top:6px; color:var(--muted); font-size:.92rem;
}
.student-portal .kpi-hint{
  margin-top:6px; font-size:.9rem; color:#64748b;
}

/* Links inside cards */
.student-portal .kpi-link{
  display:inline-block; margin-top:10px;
  text-decoration:none; color:#4f46e5;
}
.student-portal .kpi-link:hover{ text-decoration:underline; }

/* Circular progress (attendance %) 
   Usage in HTML: <div class="progress" style="--p:0.86"></div>  (value 0..1) */
.student-portal .progress{
  --p: .75;             /* 75% default */
  --size: 82px;
  width:var(--size); height:var(--size);
  border-radius:50%;
  background:
    radial-gradient(#fff 61%, transparent 62%),
    conic-gradient(var(--brand) calc(var(--p)*360deg), #EEF1F7 0);
  display:inline-grid; place-items:center;
  box-shadow: var(--shadow-sm);
  font-weight:800; font-size:14px; color:#111;
}
.student-portal .progress::after{
  content: attr(data-label); /* will be set via JS or fallback below */
}
.student-portal .progress:not([data-label])::after{
  /* fallback to computed percentage if data-label not provided */
  content: calc(var(--p) * 100) "%";
}

/* Upcoming class block */
.student-portal .next-class{ margin-top:4px; }
.student-portal .next-subject{ font-size:1.05rem; font-weight:800; }
.student-portal .next-meta{ margin-top:2px; color:var(--muted); font-size:.95rem; }

/* ---------- My Attendance table (if used later) ---------- */
.student-portal .attendance-table{
  width:100%; border-collapse: collapse; margin-top: 10px;
}
.student-portal .attendance-table th,
.student-portal .attendance-table td{
  border-top:1px solid var(--border);
  padding:12px 14px; text-align:left; font-size:14px;
}
.student-portal .attendance-table thead th{
  background:#f7f8fb; font-weight:700;
}

/* Status chips */
.student-portal .chip{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 10px; border-radius:999px;
  font-weight:700; font-size:12px;
  border:1px solid var(--border); background:#fff;
}
.student-portal .chip.present{ border-color:#CFF6DD; background:#EDFFF3; color:#065F46; }
.student-portal .chip.absent{  border-color:#FFD4D4; background:#FFF0F0; color:#7F1D1D; }
.student-portal .chip.late{    border-color:#FFE8B0; background:#FFF7DF; color:#7A4A00; }

/* ---------- Timetable (compact) ---------- */
.student-portal .student-tt{
  display:grid; gap:16px; margin-top:16px;
  grid-template-columns: repeat(3, minmax(220px, 1fr));
}
.student-portal .tt-card{
  background:#fff; border:1px solid var(--border);
  border-radius:14px; padding:12px 14px;
}
.student-portal .tt-item + .tt-item{ margin-top:10px; }
.student-portal .tt-time{ font-weight:800; }
.student-portal .tt-meta{ color:var(--muted); font-size:13px; }

/* ---------- Settings/Profile forms ---------- */
.student-portal .settings-form label{ font-weight:700; }
.student-portal .settings-form input,
.student-portal .settings-form select,
.student-portal textarea{
  border:1px solid var(--border); border-radius:10px;
  padding:10px 12px; font-size:14px; outline:0;
}
.student-portal .settings-form button{ background:var(--brand); color:#fff; border:none; padding:10px 16px; border-radius:10px; }
.student-portal .settings-form button:hover{ background:var(--brand-600); }

/* ---------- Toolbar tweaks ---------- */
.student-portal .toolbar .search{ min-width:220px; }
.student-portal .toolbar .class-selector{
  background:#eef1ff; border:0; border-radius:999px; padding:10px 16px; font-weight:700;
}

/* ---------- Legend ---------- */
.student-portal .legend .status-dot{ width:14px; height:14px; border-radius:50%; display:inline-block; }
.student-portal .present{ background:#22c55e; }
.student-portal .absent{  background:#dc2626; }
.student-portal .late{    background:#facc15; }

/* ---------- Cards / Helpers ---------- */
.student-portal .card{ border-radius:14px; }
.student-portal .pill{ background:#EDF3FF; color:#2A4C9B; }

/* ---------- Responsive ---------- */
@media (max-width:1100px){
  .student-portal .kpi-grid{ grid-template-columns: repeat(2, 1fr); }
  .student-portal .student-tt{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width:700px){
  .student-portal .kpi-grid,
  .student-portal .student-tt{ grid-template-columns: 1fr; }
}
